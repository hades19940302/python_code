--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
脚本BUG
system.sh
第32行 去掉1i中i
autoDeploy.sh
第141行 注释掉iptables，没有service iptables
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Neutron授权访问
neutron port-list |grep 10.20.1.81
neutron port-update b5c75055-d03d-45d1-b6c9-360d0bd65807 --allowed-address-pair ip_address=10.20.1.220 --allowed-address-pair ip_address=10.20.1.210 --allowed-address-pair ip_address=10.20.1.200 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
系统扩容
fdisk /dev/vda
partprobe 
pvcreate /dev/vda3
vgextend centos /dev/vda3
lvextend -L +20G /dev/mapper/centos-root   #+++20G
xfs_growfs /dev/mapper/centos-root 
yum install http://cbs.centos.org/kojifiles/packages/kernel/3.18.44/20.el7/x86_64/kernel-3.18.44-20.el7.x86_64.rpm
or
yum localinstall kernel-3.18.44-20.el7.x86_64.rpm
awk -F\' '$1=="menuentry " {print $2}' /etc/grub2.cfg
grub2-set-default 0
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
内核升级
tar -xf linux-3.18.4.tar.xz -C /usr/src/
cd /usr/src/linux-3.18.4/
make menuconfig
make oldconfig
yum install bc
make -j 3
make modules_install install
uname -r
-------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
---------------------------------------------2018-05-10-----------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------
创建云硬盘失败
cinder-volumes未分配空间
解决办法
fdisk /dev/vda
partprobe
pvcreate /dev/vda3
vgcreate cinder-volumes /dev/vda3
systemctl enable openstack-cinder-volume.service target.service
systemctl restart openstack-cinder-volume.service target.service
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
运行autoDeploy.sh HA
/etc/yum.repos.d/
nnit-openstack.repo
运行autoDeploy.sh openstack
CentOS-Base.repo  CentOS-CR.repo  CentOS-Debuginfo.repo  CentOS-fasttrack.repo  CentOS-Media.repo  CentOS-Sources.repo  CentOS-Vault.repo  epel.repo  epel-testing.repo  nnit-openstack.repo
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
创建云主机失败
Unable to establish connection to http://127.0.0.1:9696/v2.0/extensions.json
源于计算节点安装失败，在进行网络节点和计算节点内核升级时候会自动在/etc/yum.repos.d/
生成不必要的yum源包，需要手动删除。
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------